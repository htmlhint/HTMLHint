!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).HTMLHint=t()}(this,(function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a={},n={};Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this._listeners={},this._mapCdataTags=this.makeMap("script,style"),this._arrBlocks=[],this.lastEvent=null}return e.prototype.makeMap=function(e){for(var t={},a=e.split(","),n=0;n<a.length;n++)t[a[n]]=!0;return t},e.prototype.parse=function(e){var t,a,n,r,i,o,s=this,l=this._mapCdataTags,u=/<(?:\/([^\s>]+)\s*|!--([\s\S]*?)--|!([^>]*?)|([\w\-:]+)((?:\s+[^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'>]*))?)*?)\s*(\/?))>/g,c=/\s*([^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+)(?:\s*=\s*(?:(")([^"]*)"|(')([^']*)'|([^\s"'>]*)))?/g,d=/\r?\n/g,f=0,p=null,g=[],v=0,h=0,m=1,b=this._arrBlocks;this.fire("start",{pos:0,line:1,col:1});for(var y,w=function(e,t,a,n){var r=a-h+1;for(void 0===n&&(n={}),n.raw=t,n.pos=a,n.line=m,n.col=r,b.push(n),s.fire(e,n);d.exec(t);)m++,h=a+d.lastIndex};t=u.exec(e);)if((a=t.index)>f&&(o=e.substring(f,a),p?g.push(o):w("text",o,f)),f=u.lastIndex,!(n=t[1])||(p&&n===p&&(w("cdata",o=g.join(""),v,{tagName:p,attrs:i}),p=null,i=void 0,g=[]),p))if(p)g.push(t[0]);else if(n=t[4]){r=[];for(var O=t[5],L=void 0,_=0;L=c.exec(O);){var x=L[1],j=L[2]?L[2]:L[4]?L[4]:"",P=L[3]?L[3]:L[5]?L[5]:L[6]?L[6]:"";r.push({name:x,value:P,quote:j,index:L.index,raw:L[0]}),_+=L[0].length}_===O.length?(w("tagstart",t[0],a,{tagName:n,attrs:r,close:t[6]}),y=void 0,y=r.find((function(e){return"type"===e.name}))||{value:""},l[n]&&-1===y.value.indexOf("text/ng-template")&&(p=n,i=r.concat(),g=[],v=f)):w("text",t[0],a)}else(t[2]||t[3])&&w("comment",t[0],a,{content:t[2]||t[3],long:!!t[2]});else w("tagend",t[0],a,{tagName:n});e.length>f&&w("text",o=e.substring(f,e.length),f),this.fire("end",{pos:f,line:m,col:e.length-h+1})},e.prototype.addListener=function(e,t){for(var a,n=this._listeners,r=e.split(/[,\s]/),i=0,o=r.length;i<o;i++)void 0===n[a=r[i]]&&(n[a]=[]),n[a].push(t)},e.prototype.fire=function(e,t){void 0===t&&(t={}),t.type=e;var a=[],n=this._listeners[e],r=this._listeners.all;void 0!==n&&(a=a.concat(n)),void 0!==r&&(a=a.concat(r));var i=this.lastEvent;null!==i&&(delete i.lastEvent,t.lastEvent=i),this.lastEvent=t;for(var o=0,s=a.length;o<s;o++)a[o].call(this,t)},e.prototype.removeListener=function(e,t){var a=this._listeners[e];if(void 0!==a)for(var n=0,r=a.length;n<r;n++)if(a[n]===t){a.splice(n,1);break}},e.prototype.fixPos=function(e,t){var a,n=e.raw.substr(0,t).split(/\r?\n/),r=n.length-1,i=e.line;return r>0?(i+=r,a=n[r].length+1):a=e.col+t,{line:i,col:a}},e.prototype.getMapAttrs=function(e){for(var t,a={},n=0,r=e.length;n<r;n++)a[(t=e[n]).name]=t.value;return a},e}();n.default=r;var i={};Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){this.html=e,this.lines=e.split(/\r?\n/);var a=/\r?\n/.exec(e);this.brLen=null!==a?a[0].length:0,this.ruleset=t,this.messages=[]}return e.prototype.info=function(e,t,a,n,r){this.report("info",e,t,a,n,r)},e.prototype.warn=function(e,t,a,n,r){this.report("warning",e,t,a,n,r)},e.prototype.error=function(e,t,a,n,r){this.report("error",e,t,a,n,r)},e.prototype.report=function(e,t,a,n,r,i){for(var o=this.lines,s=this.brLen,l="",u=0,c=a-1,d=o.length;c<d&&(n>(u=(l=o[c]).length)&&a<d);c++)a++,1!==(n-=u)&&(n-=s);this.messages.push({type:e,message:t,raw:i,evidence:l,line:a,col:n,rule:{id:r.id,description:r.description,link:"https://github.com/thedaviddias/HTMLHint/wiki/".concat(r.id)}})},e}();i.default=o;var s={},l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default={id:"alt-require",description:"The alt attribute of an <img> element must be present and alt attribute of area[href] and input[type=image] must have a value.",init:function(e,t){var a=this;e.addListener("tagstart",(function(n){var r,i=n.tagName.toLowerCase(),o=e.getMapAttrs(n.attrs),s=n.col+i.length+1;"img"!==i||"alt"in o?("area"===i&&"href"in o||"input"===i&&"image"===o.type)&&("alt"in o&&""!==o.alt||(r="area"===i?"area[href]":"input[type=image]",t.warn("The alt attribute of ".concat(r," must have a value."),n.line,s,a,n.raw))):t.warn("An alt attribute must be present on <img> elements.",n.line,s,a,n.raw)}))}};var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default={id:"attr-lowercase",description:"All attribute names must be in lowercase.",init:function(e,t,a){var n=this,r=Array.isArray(a)?a:[];e.addListener("tagstart",(function(e){for(var a,i=e.attrs,o=e.col+e.tagName.length+1,s=function(s,l){var u=(a=i[s]).name;r.find((function(e){return function(e,t){if(t instanceof RegExp)return!!t.test(e)&&{match:e,pattern:t};var a=t[0],n=t[t.length-1],r=t[t.length-2],i="/"===a&&("/"===n||"/"===r&&"i"===n);return i?i&&"i"===n?new RegExp(t.slice(1,-2),"i").test(e):new RegExp(t.slice(1,-1)).test(e):e===t}(u,e)}))||u===u.toLowerCase()||t.error("The attribute name of [ ".concat(u," ] must be in lowercase."),e.line,o+a.index,n,a.raw)},l=0,u=i.length;l<u;l++)s(l)}))}};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default={id:"attr-sorted",description:"Attribute tags must be in proper order.",init:function(e,t){for(var a=this,n={},r=["class","id","name","src","for","type","href","value","title","alt","role"],i=0;i<r.length;i++)n[r[i]]=i;e.addListener("tagstart",(function(e){for(var r=e.attrs,i=[],o=0;o<r.length;o++)i.push(r[o].name);var s=JSON.stringify(i);i.sort((function(e,t){return null==n[e]&&null==n[t]?0:null==n[e]?1:null==n[t]?-1:n[e]-n[t]||e.localeCompare(t)})),s!==JSON.stringify(i)&&t.error("Inaccurate order ".concat(s," should be in hierarchy ").concat(JSON.stringify(i)," "),e.line,e.col,a,e.raw)}))}};var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default={id:"attr-no-duplication",description:"Elements cannot have duplicate attributes.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r,i=e.attrs,o=e.col+e.tagName.length+1,s={},l=0,u=i.length;l<u;l++)!0===s[r=(n=i[l]).name]&&t.error("Duplicate of attribute name [ ".concat(n.name," ] was found."),e.line,o+n.index,a,n.raw),s[r]=!0}))}};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default={id:"attr-unsafe-chars",description:"Attribute values cannot contain unsafe chars.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r,i=e.attrs,o=e.col+e.tagName.length+1,s=/[\u0000-\u0008\u000b\u000c\u000e-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,l=0,u=i.length;l<u;l++)if(n=i[l],null!==(r=s.exec(n.value))){var c=escape(r[0]).replace(/%u/,"\\u").replace(/%/,"\\x");t.warn("The value of attribute [ ".concat(n.name," ] cannot contain an unsafe char [ ").concat(c," ]."),e.line,o+n.index,a,n.raw)}}))}};var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default={id:"attr-value-double-quotes",description:"Attribute values must be in double quotes.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r=e.attrs,i=e.col+e.tagName.length+1,o=0,s=r.length;o<s;o++)(""!==(n=r[o]).value&&'"'!==n.quote||""===n.value&&"'"===n.quote)&&t.error("The value of attribute [ ".concat(n.name," ] must be in double quotes."),e.line,i+n.index,a,n.raw)}))}};var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.default={id:"attr-value-not-empty",description:"All attributes must have values.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r=e.attrs,i=e.col+e.tagName.length+1,o=0,s=r.length;o<s;o++)""===(n=r[o]).quote&&""===n.value&&t.warn("The attribute [ ".concat(n.name," ] must have a value."),e.line,i+n.index,a,n.raw)}))}};var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default={id:"attr-value-single-quotes",description:"Attribute values must be in single quotes.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r=e.attrs,i=e.col+e.tagName.length+1,o=0,s=r.length;o<s;o++)(""!==(n=r[o]).value&&"'"!==n.quote||""===n.value&&'"'===n.quote)&&t.error("The value of attribute [ ".concat(n.name," ] must be in single quotes."),e.line,i+n.index,a,n.raw)}))}};var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default={id:"attr-whitespace",description:"All attributes should be separated by only one space and not have leading/trailing whitespace.",init:function(e,t,a){var n=this,r=Array.isArray(a)?a:[];e.addListener("tagstart",(function(e){var a,i=e.attrs,o=e.col+e.tagName.length+1;i.forEach((function(i){a=i;var s=i.name;-1===r.indexOf(s)&&(i.value.trim()!==i.value&&t.error("The attributes of [ ".concat(s," ] must not have trailing whitespace."),e.line,o+a.index,n,a.raw),i.value.replace(/ +(?= )/g,"")!==i.value&&t.error("The attributes of [ ".concat(s," ] must be separated by only one space."),e.line,o+a.index,n,a.raw))}))}))}};var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default={id:"doctype-first",description:"Doctype must be declared first.",init:function(e,t){var a=this,n=function(r){"start"===r.type||"text"===r.type&&/^\s*$/.test(r.raw)||(("comment"!==r.type&&!1===r.long||!1===/^DOCTYPE\s+/i.test(r.content))&&t.error("Doctype must be declared first.",r.line,r.col,a,r.raw),e.removeListener("all",n))};e.addListener("all",n)}};var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default={id:"doctype-html5",description:'Invalid doctype. Use: "<!DOCTYPE html>"',init:function(e,t){var a=this,n=function(e){!1===e.long&&"doctype html"!==e.content.toLowerCase()&&t.warn('Invalid doctype. Use: "<!DOCTYPE html>"',e.line,e.col,a,e.raw)},r=function(){e.removeListener("comment",n),e.removeListener("tagstart",r)};e.addListener("all",n),e.addListener("tagstart",r)}};var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default={id:"head-script-disabled",description:"The <script> tag cannot be used in a <head> tag.",init:function(e,t){var a=this,n=/^(text\/javascript|application\/javascript)$/i,r=!1,i=function(i){var o=e.getMapAttrs(i.attrs).type,s=i.tagName.toLowerCase();"head"===s&&(r=!0),!0!==r||"script"!==s||o&&!0!==n.test(o)||t.warn("The <script> tag cannot be used in a <head> tag.",i.line,i.col,a,i.raw)},o=function(t){"head"===t.tagName.toLowerCase()&&(e.removeListener("tagstart",i),e.removeListener("tagend",o))};e.addListener("tagstart",i),e.addListener("tagend",o)}};var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default={id:"href-abs-or-rel",description:"An href attribute must be either absolute or relative.",init:function(e,t,a){var n=this,r="abs"===a?"absolute":"relative";e.addListener("tagstart",(function(e){for(var a,i=e.attrs,o=e.col+e.tagName.length+1,s=0,l=i.length;s<l;s++)if("href"===(a=i[s]).name){("absolute"===r&&!1===/^\w+?:/.test(a.value)||"relative"===r&&!0===/^https?:\/\//.test(a.value))&&t.warn("The value of the href attribute [ ".concat(a.value," ] must be ").concat(r,"."),e.line,o+a.index,n,a.raw);break}}))}};var O={};Object.defineProperty(O,"__esModule",{value:!0});var L="(?<grandfathered>".concat("(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)","|").concat("(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)",")"),_="(?<extension>".concat("[0-9A-WY-Za-wy-z]","(-[A-Za-z0-9]{2,8})+)"),x="(?<language>([A-Za-z]{2,3}(-".concat("(?<extlang>[A-Za-z]{3}(-[A-Za-z]{3}){0,2})",")?)|[A-Za-z]{4}|[A-Za-z]{5,8})"),j="(".concat(x,"(-").concat("(?<script>[A-Za-z]{4})",")?")+"(-".concat("(?<region>[A-Za-z]{2}|[0-9]{3})",")?")+"(-".concat("(?<variant>[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3})",")*")+"(-".concat(_,")*")+"(-".concat("(?<privateUse>x(-[A-Za-z0-9]{1,8})+)",")?")+")",P="(".concat(L,"|").concat(j,"|").concat("(?<privateUse2>x(-[A-Za-z0-9]{1,8})+)",")");O.default={id:"html-lang-require",description:"The lang attribute of an <html> element must be present and should be valid.",init:function(e,t){var a=this;e.addListener("tagstart",(function(n){var r=n.tagName.toLowerCase(),i=e.getMapAttrs(n.attrs),o=n.col+r.length+1,s=new RegExp(P,"g");"html"===r&&("lang"in i?i.lang?s.test(i.lang)||t.warn("The lang attribute value of <html> element must be a valid BCP47.",n.line,o,a,n.raw):t.warn("The lang attribute of <html> element must have a value.",n.line,o,a,n.raw):t.warn("An lang attribute must be present on <html> elements.",n.line,o,a,n.raw))}))}};var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default={id:"id-class-ad-disabled",description:"The id and class attributes cannot use the ad keyword, it will be blocked by adblock software.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r,i=e.attrs,o=e.col+e.tagName.length+1,s=0,l=i.length;s<l;s++)r=(n=i[s]).name,/^(id|class)$/i.test(r)&&/(^|[-_])ad([-_]|$)/i.test(n.value)&&t.warn("The value of attribute ".concat(r," cannot use the ad keyword."),e.line,o+n.index,a,n.raw)}))}};var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default={id:"id-class-value",description:"The id and class attribute values must meet the specified rules.",init:function(e,t,a){var n,r=this;if("object"==typeof(n="string"==typeof a?{underline:{regId:/^[a-z\d]+(_[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by an underscore."},dash:{regId:/^[a-z\d]+(-[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by a dash."},hump:{regId:/^[a-z][a-zA-Z\d]*([A-Z][a-zA-Z\d]*)*$/,message:"The id and class attribute values must meet the camelCase style."}}[a]:a)&&n.regId){var i=n.regId,o=n.message;i instanceof RegExp||(i=new RegExp(i)),e.addListener("tagstart",(function(e){for(var a,n=e.attrs,s=e.col+e.tagName.length+1,l=0,u=n.length;l<u;l++)if("id"===(a=n[l]).name.toLowerCase()&&!1===i.test(a.value)&&t.warn(o,e.line,s+a.index,r,a.raw),"class"===a.name.toLowerCase())for(var c=a.value.split(/\s+/g),d=void 0,f=0,p=c.length;f<p;f++)(d=c[f])&&!1===i.test(d)&&t.warn(o,e.line,s+a.index,r,d)}))}}};var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default={id:"id-unique",description:"The value of id attributes must be unique.",init:function(e,t){var a=this,n={};e.addListener("tagstart",(function(e){for(var r,i,o=e.attrs,s=e.col+e.tagName.length+1,l=0,u=o.length;l<u;l++)if("id"===(r=o[l]).name.toLowerCase()){(i=r.value)&&(void 0===n[i]?n[i]=1:n[i]++,n[i]>1&&t.error("The id value [ ".concat(i," ] must be unique."),e.line,s+r.index,a,r.raw));break}}))}};var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.default={id:"inline-script-disabled",description:"Inline script cannot be used.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r,i=e.attrs,o=e.col+e.tagName.length+1,s=/^on(unload|message|submit|select|scroll|resize|mouseover|mouseout|mousemove|mouseleave|mouseenter|mousedown|load|keyup|keypress|keydown|focus|dblclick|click|change|blur|error)$/i,l=0,u=i.length;l<u;l++)r=(n=i[l]).name.toLowerCase(),!0===s.test(r)?t.warn("Inline script [ ".concat(n.raw," ] cannot be used."),e.line,o+n.index,a,n.raw):"src"!==r&&"href"!==r||/^\s*javascript:/i.test(n.value)&&t.warn("Inline script [ ".concat(n.raw," ] cannot be used."),e.line,o+n.index,a,n.raw)}))}};var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default={id:"inline-style-disabled",description:"Inline style cannot be used.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r=e.attrs,i=e.col+e.tagName.length+1,o=0,s=r.length;o<s;o++)"style"===(n=r[o]).name.toLowerCase()&&t.warn("Inline style [ ".concat(n.raw," ] cannot be used."),e.line,i+n.index,a,n.raw)}))}};var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default={id:"input-requires-label",description:"All [ input ] tags must have a corresponding [ label ] tag. ",init:function(e,t){var a=this,n=[],r=[];e.addListener("tagstart",(function(t){var a=t.tagName.toLowerCase(),i=e.getMapAttrs(t.attrs),o=t.col+a.length+1;"input"===a&&r.push({event:t,col:o,id:i.id}),"label"===a&&"for"in i&&""!==i.for&&n.push({event:t,col:o,forValue:i.for})})),e.addListener("end",(function(){r.forEach((function(e){(function(e){var t=!1;return n.forEach((function(a){e.id&&e.id===a.forValue&&(t=!0)})),t})(e)||t.warn("No matching [ label ] tag found.",e.event.line,e.col,a,e.event.raw)}))}))}};var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default={id:"script-disabled",description:"The <script> tag cannot be used.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){"script"===e.tagName.toLowerCase()&&t.error("The <script> tag cannot be used.",e.line,e.col,a,e.raw)}))}};var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.default={id:"space-tab-mixed-disabled",description:"Do not mix tabs and spaces for indentation.",init:function(e,t,a){var n=this,r="nomix",i=null;if("string"==typeof a){var o=/^([a-z]+)(\d+)?/.exec(a);o&&(r=o[1],i=o[2]&&parseInt(o[2],10))}e.addListener("text",(function(a){for(var o,s=a.raw,l=/(^|\r?\n)([ \t]+)/g;o=l.exec(s);){var u=e.fixPos(a,o.index+o[1].length);if(1===u.col){var c=o[2];"space"===r?i?!1!==/^ +$/.test(c)&&c.length%i==0||t.warn("Please use space for indentation and keep ".concat(i," length."),u.line,1,n,a.raw):!1===/^ +$/.test(c)&&t.warn("Please use space for indentation.",u.line,1,n,a.raw):"tab"===r&&!1===/^\t+$/.test(c)?t.warn("Please use tab for indentation.",u.line,1,n,a.raw):!0===/ +\t|\t+ /.test(c)&&t.warn("Do not mix tabs and spaces for indentation.",u.line,1,n,a.raw)}}}))}};var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default={id:"spec-char-escape",description:"Special characters must be escaped.",init:function(e,t){var a=this;e.addListener("text",(function(n){for(var r,i=n.raw,o=/([<>])|( \& )/g;r=o.exec(i);){var s=e.fixPos(n,r.index);t.error("Special characters must be escaped : [ ".concat(r[0]," ]."),s.line,s.col,a,n.raw)}}))}};var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default={id:"src-not-empty",description:"The src attribute of an img(script,link) must have a value.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){for(var n,r=e.tagName,i=e.attrs,o=e.col+r.length+1,s=0,l=i.length;s<l;s++)n=i[s],(!0===/^(img|script|embed|bgsound|iframe)$/.test(r)&&"src"===n.name||"link"===r&&"href"===n.name||"object"===r&&"data"===n.name)&&""===n.value&&t.error("The attribute [ ".concat(n.name," ] of the tag [ ").concat(r," ] must have a value."),e.line,o+n.index,a,n.raw)}))}};var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.default={id:"style-disabled",description:"<style> tags cannot be used.",init:function(e,t){var a=this;e.addListener("tagstart",(function(e){"style"===e.tagName.toLowerCase()&&t.warn("The <style> tag cannot be used.",e.line,e.col,a,e.raw)}))}};var S={};Object.defineProperty(S,"__esModule",{value:!0}),S.default={id:"tag-pair",description:"Tag must be paired.",init:function(e,t){var a=this,n=[],r=e.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");e.addListener("tagstart",(function(e){var t=e.tagName.toLowerCase();void 0!==r[t]||e.close||n.push({tagName:t,line:e.line,raw:e.raw})})),e.addListener("tagend",(function(e){var r,i=e.tagName.toLowerCase();for(r=n.length-1;r>=0&&n[r].tagName!==i;r--);if(r>=0){for(var o=[],s=n.length-1;s>r;s--)o.push("</".concat(n[s].tagName,">"));if(o.length>0){var l=n[n.length-1];t.error("Tag must be paired, missing: [ ".concat(o.join("")," ], start tag match failed [ ").concat(l.raw," ] on line ").concat(l.line,"."),e.line,e.col,a,e.raw)}n.length=r}else t.error("Tag must be paired, no start tag: [ ".concat(e.raw," ]"),e.line,e.col,a,e.raw)})),e.addListener("end",(function(e){for(var r=[],i=n.length-1;i>=0;i--)r.push("</".concat(n[i].tagName,">"));if(r.length>0){var o=n[n.length-1];t.error("Tag must be paired, missing: [ ".concat(r.join("")," ], open tag match failed [ ").concat(o.raw," ] on line ").concat(o.line,"."),e.line,e.col,a,"")}}))}};var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.default={id:"tag-self-close",description:"Empty tags must be self closed.",init:function(e,t){var a=this,n=e.makeMap("area,base,basefont,bgsound,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");e.addListener("tagstart",(function(e){var r=e.tagName.toLowerCase();void 0!==n[r]&&(e.close||t.warn("The empty tag : [ ".concat(r," ] must be self closed."),e.line,e.col,a,e.raw))}))}};var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.default={id:"empty-tag-not-self-closed",description:"Empty tags must not use self closed syntax.",init:function(e,t){var a=this,n=e.makeMap("area,base,basefont,bgsound,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");e.addListener("tagstart",(function(e){var r=e.tagName.toLowerCase();void 0!==n[r]&&e.close&&t.error("The empty tag : [ ".concat(r," ] must not use self closed syntax."),e.line,e.col,a,e.raw)}))}};var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.default={id:"tagname-lowercase",description:"All html element names must be in lowercase.",init:function(e,t,a){var n=this,r=Array.isArray(a)?a:[];e.addListener("tagstart,tagend",(function(e){var a=e.tagName;-1===r.indexOf(a)&&a!==a.toLowerCase()&&t.error("The html element name of [ ".concat(a," ] must be in lowercase."),e.line,e.col,n,e.raw)}))}};var $={};Object.defineProperty($,"__esModule",{value:!0}),$.default={id:"tagname-specialchars",description:"All special characters must be escaped.",init:function(e,t){var a=this,n=/[^a-zA-Z0-9\-:_]/;e.addListener("tagstart,tagend",(function(e){var r=e.tagName;n.test(r)&&t.error("The html element name of [ ".concat(r," ] contains special character."),e.line,e.col,a,e.raw)}))}};var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.default={id:"title-require",description:"<title> must be present in <head> tag.",init:function(e,t){var a=this,n=!1,r=!1,i=function(e){var t=e.tagName.toLowerCase();"head"===t?n=!0:"title"===t&&n&&(r=!0)},o=function(n){var s=n.tagName.toLowerCase();if(r&&"title"===s){var l=n.lastEvent;("text"!==l.type||"text"===l.type&&!0===/^\s*$/.test(l.raw))&&t.error("<title></title> must not be empty.",n.line,n.col,a,n.raw)}else"head"===s&&(!1===r&&t.error("<title> must be present in <head> tag.",n.line,n.col,a,n.raw),e.removeListener("tagstart",i),e.removeListener("tagend",o))};e.addListener("tagstart",i),e.addListener("tagend",o)}};var V={},F=e&&e.__assign||function(){return F=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},F.apply(this,arguments)};Object.defineProperty(V,"__esModule",{value:!0});var B={a:{selfclosing:!1,attrsRequired:["href","title"],redundantAttrs:["alt"]},div:{selfclosing:!1},main:{selfclosing:!1,redundantAttrs:["role"]},nav:{selfclosing:!1,redundantAttrs:["role"]},script:{attrsOptional:[["async","async"],["defer","defer"]]},img:{selfclosing:!0,attrsRequired:["src","alt","title"]}};V.default={id:"tags-check",description:"Checks html tags.",init:function(e,t,a){var n=this;B=F(F({},B),a),e.addListener("tagstart",(function(e){var a=e.attrs,r=e.col+e.tagName.length+1,i=e.tagName.toLowerCase();if(B[i]){var o=B[i];if(!0!==o.selfclosing||e.close?!1===o.selfclosing&&e.close&&t.warn("The <".concat(i,"> tag must not be selfclosing."),e.line,e.col,n,e.raw):t.warn("The <".concat(i,"> tag must be selfclosing."),e.line,e.col,n,e.raw),Array.isArray(o.attrsRequired))o.attrsRequired.forEach((function(o){if(Array.isArray(o)){var s=o.map((function(e){return e})),l=s.shift(),u=s;a.some((function(e){return e.name===l}))?a.forEach((function(a){a.name===l&&-1===u.indexOf(a.value)&&t.error("The <".concat(i,"> tag must have attr '").concat(l,"' with one value of '").concat(u.join("' or '"),"'."),e.line,r,n,e.raw)})):t.error("The <".concat(i,"> tag must have attr '").concat(l,"'."),e.line,r,n,e.raw)}else a.some((function(e){return-1!==o.split("|").indexOf(e.name)}))||t.error("The <".concat(i,"> tag must have attr '").concat(o,"'."),e.line,r,n,e.raw)}));if(Array.isArray(o.attrsOptional))o.attrsOptional.forEach((function(o){if(Array.isArray(o)){var s=o.map((function(e){return e})),l=s.shift(),u=s;a.some((function(e){return e.name===l}))&&a.forEach((function(a){a.name===l&&-1===u.indexOf(a.value)&&t.error("The <".concat(i,"> tag must have optional attr '").concat(l,"' with one value of '").concat(u.join("' or '"),"'."),e.line,r,n,e.raw)}))}}));if(Array.isArray(o.redundantAttrs))o.redundantAttrs.forEach((function(o){a.some((function(e){return e.name===o}))&&t.error("The attr '".concat(o,"' is redundant for <").concat(i,"> and should be omitted."),e.line,r,n,e.raw)}))}}))}};var W={};return Object.defineProperty(W,"__esModule",{value:!0}),W.default={id:"attr-no-unnecessary-whitespace",description:"No spaces between attribute names and values.",init:function(e,t,a){var n=this,r=Array.isArray(a)?a:[];e.addListener("tagstart",(function(e){for(var a=e.attrs,i=e.col+e.tagName.length+1,o=0;o<a.length;o++)if(-1===r.indexOf(a[o].name)){var s=/(\s*)=(\s*)/.exec(a[o].raw.trim());!s||0===s[1].length&&0===s[2].length||t.error("The attribute '".concat(a[o].name,"' must not have spaces between the name and value."),e.line,i+a[o].index,n,a[o].raw)}}))}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.attrNoUnnecessaryWhitespace=e.tagsCheck=e.titleRequire=e.tagnameSpecialChars=e.tagnameLowercase=e.emptyTagNotSelfClosed=e.tagSelfClose=e.tagPair=e.styleDisabled=e.srcNotEmpty=e.specCharEscape=e.spaceTabMixedDisabled=e.scriptDisabled=e.inputRequiresLabel=e.inlineStyleDisabled=e.inlineScriptDisabled=e.idUnique=e.idClassValue=e.idClsasAdDisabled=e.htmlLangRequire=e.hrefAbsOrRel=e.headScriptDisabled=e.doctypeHTML5=e.doctypeFirst=e.attrWhitespace=e.attrValueSingleQuotes=e.attrValueNotEmpty=e.attrValueDoubleQuotes=e.attrUnsafeChars=e.attrNoDuplication=e.attrSort=e.attrLowercase=e.altRequire=void 0;var t=l;Object.defineProperty(e,"altRequire",{enumerable:!0,get:function(){return t.default}});var a=u;Object.defineProperty(e,"attrLowercase",{enumerable:!0,get:function(){return a.default}});var n=c;Object.defineProperty(e,"attrSort",{enumerable:!0,get:function(){return n.default}});var r=d;Object.defineProperty(e,"attrNoDuplication",{enumerable:!0,get:function(){return r.default}});var i=f;Object.defineProperty(e,"attrUnsafeChars",{enumerable:!0,get:function(){return i.default}});var o=p;Object.defineProperty(e,"attrValueDoubleQuotes",{enumerable:!0,get:function(){return o.default}});var s=g;Object.defineProperty(e,"attrValueNotEmpty",{enumerable:!0,get:function(){return s.default}});var L=v;Object.defineProperty(e,"attrValueSingleQuotes",{enumerable:!0,get:function(){return L.default}});var _=h;Object.defineProperty(e,"attrWhitespace",{enumerable:!0,get:function(){return _.default}});var x=m;Object.defineProperty(e,"doctypeFirst",{enumerable:!0,get:function(){return x.default}});var j=b;Object.defineProperty(e,"doctypeHTML5",{enumerable:!0,get:function(){return j.default}});var P=y;Object.defineProperty(e,"headScriptDisabled",{enumerable:!0,get:function(){return P.default}});var F=w;Object.defineProperty(e,"hrefAbsOrRel",{enumerable:!0,get:function(){return F.default}});var B=O;Object.defineProperty(e,"htmlLangRequire",{enumerable:!0,get:function(){return B.default}});var J=T;Object.defineProperty(e,"idClsasAdDisabled",{enumerable:!0,get:function(){return J.default}});var Q=A;Object.defineProperty(e,"idClassValue",{enumerable:!0,get:function(){return Q.default}});var Y=M;Object.defineProperty(e,"idUnique",{enumerable:!0,get:function(){return Y.default}});var G=N;Object.defineProperty(e,"inlineScriptDisabled",{enumerable:!0,get:function(){return G.default}});var K=C;Object.defineProperty(e,"inlineStyleDisabled",{enumerable:!0,get:function(){return K.default}});var X=k;Object.defineProperty(e,"inputRequiresLabel",{enumerable:!0,get:function(){return X.default}});var ee=E;Object.defineProperty(e,"scriptDisabled",{enumerable:!0,get:function(){return ee.default}});var te=q;Object.defineProperty(e,"spaceTabMixedDisabled",{enumerable:!0,get:function(){return te.default}});var ae=R;Object.defineProperty(e,"specCharEscape",{enumerable:!0,get:function(){return ae.default}});var ne=z;Object.defineProperty(e,"srcNotEmpty",{enumerable:!0,get:function(){return ne.default}});var re=D;Object.defineProperty(e,"styleDisabled",{enumerable:!0,get:function(){return re.default}});var ie=S;Object.defineProperty(e,"tagPair",{enumerable:!0,get:function(){return ie.default}});var oe=H;Object.defineProperty(e,"tagSelfClose",{enumerable:!0,get:function(){return oe.default}});var se=Z;Object.defineProperty(e,"emptyTagNotSelfClosed",{enumerable:!0,get:function(){return se.default}});var le=I;Object.defineProperty(e,"tagnameLowercase",{enumerable:!0,get:function(){return le.default}});var ue=$;Object.defineProperty(e,"tagnameSpecialChars",{enumerable:!0,get:function(){return ue.default}});var ce=U;Object.defineProperty(e,"titleRequire",{enumerable:!0,get:function(){return ce.default}});var de=V;Object.defineProperty(e,"tagsCheck",{enumerable:!0,get:function(){return de.default}});var fe=W;Object.defineProperty(e,"attrNoUnnecessaryWhitespace",{enumerable:!0,get:function(){return fe.default}})}(s),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLParser=e.Reporter=e.HTMLRules=e.HTMLHint=void 0;var t=n;e.HTMLParser=t.default;var a=i;e.Reporter=a.default;var r=s;e.HTMLRules=r;var o=function(){function e(){this.rules={},this.defaultRuleset={"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!0,"doctype-first":!0,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0,"title-require":!0}}return e.prototype.addRule=function(e){this.rules[e.id]=e},e.prototype.verify=function(e,n){void 0===n&&(n=this.defaultRuleset),0===Object.keys(n).length&&(n=this.defaultRuleset),e=e.replace(/^\s*<!--\s*htmlhint\s+([^\r\n]+?)\s*-->/i,(function(e,t){return t.replace(/(?:^|,)\s*([^:,]+)\s*(?:\:\s*([^,\s]+))?/g,(function(e,t,a){return n[t]=!(void 0!==a&&a.length>0)||JSON.parse(a),""})),""}));var r,i=new t.default,o=new a.default(e,n),s=this.rules;for(var l in n)void 0!==(r=s[l])&&!1!==n[l]&&r.init(i,o,n[l]);return i.parse(e),o.messages},e.prototype.format=function(e,t){void 0===t&&(t={});var a=[],n={white:"",grey:"",red:"",reset:""};t.colors&&(n.white="[37m",n.grey="[90m",n.red="[31m",n.reset="[39m");var r=t.indent||0;return e.forEach((function(e){var t=e.evidence,i=e.line,o=e.col,s=t.length,u=o>41?o-40:1,c=t.length>o+60?o+60:s;o<41&&(c+=40-o+1),t=t.replace(/\t/g," ").substring(u-1,c),u>1&&(t="...".concat(t),u-=3),c<s&&(t+="..."),a.push("".concat(n.white+l(r),"L").concat(i," |").concat(n.grey).concat(t).concat(n.reset));var d=o-u,f=t.substring(0,d).match(/[^\u0000-\u00ff]/g);null!==f&&(d+=f.length),a.push("".concat(n.white+l(r)+l(String(i).length+3+d),"^ ").concat(n.red).concat(e.message," (").concat(e.rule.id,")").concat(n.reset))})),a},e}();function l(e,t){return new Array(e+1).join(t||" ")}e.HTMLHint=new o,Object.keys(r).forEach((function(t){e.HTMLHint.addRule(r[t])}))}(a),t(a)}));
