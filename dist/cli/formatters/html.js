"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const htmlFormatter = function (formatter) {
    formatter.on('end', (event) => {
        let fileContent = '<!DOCTYPE html><html lang="en">';
        fileContent += '\n<head>';
        fileContent += '\n<meta charset="UTF-8">';
        fileContent +=
            '\n<meta name="viewport" content="width=device-width, initial-scale=1">';
        fileContent += '\n<title>HTML Hint Violation Report</title>';
        fileContent += '\n<meta name="generator" content="HTMLHint">';
        fileContent +=
            '\n<style>body{font-family:Arial,helvetica,sans-serif;} footer{margin-top:20px;text-align:center;opacity:0.5;}</style>';
        fileContent +=
            '\n<style>table{border-collapse:collapse;width:100%;} th,td{border:1px solid rgb(128,128,128,0.4);padding:8px;text-align:left;} th{background-color:rgb(128,128,128,0.2);}</style>';
        fileContent +=
            '\n<style>@media (prefers-color-scheme: dark) {body {background-color:#333;color:#fff;}}</style>';
        fileContent += '\n</head>';
        fileContent += '\n<body>';
        fileContent += '\n<h1>Violation Report</h1>';
        fileContent += '\n<main>';
        fileContent += '\n<table>';
        fileContent +=
            '\n<tr><th>Number#</th><th>File Name</th><th>Line Number</th><th>Message</th></tr>';
        for (const { file, messages } of event.arrAllMessages) {
            fileContent += messages
                .map(({ line, message }, i) => `\n<tr><td>${i + 1}</td><td>${file}</td><td>${line}</td><td>${message}</td></tr>`)
                .join('');
        }
        fileContent += '</table>';
        fileContent +=
            '\n<footer><small>Generated by <a href="https://htmlhint.com" target="_blank" rel="noopener">HTMLHint</a></small></footer>';
        fileContent += '\n</main>';
        fileContent += '\n</body>';
        fileContent += '</html>';
        console.log(fileContent);
        (0, fs_1.writeFileSync)('report.html', fileContent);
    });
};
module.exports = htmlFormatter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jbGkvZm9ybWF0dGVycy9odG1sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMkJBQWtDO0FBR2xDLE1BQU0sYUFBYSxHQUFzQixVQUFVLFNBQVM7SUFDMUQsU0FBUyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUM1QixJQUFJLFdBQVcsR0FBRyxpQ0FBaUMsQ0FBQTtRQUNuRCxXQUFXLElBQUksVUFBVSxDQUFBO1FBQ3pCLFdBQVcsSUFBSSwwQkFBMEIsQ0FBQTtRQUN6QyxXQUFXO1lBQ1Qsd0VBQXdFLENBQUE7UUFDMUUsV0FBVyxJQUFJLDZDQUE2QyxDQUFBO1FBQzVELFdBQVcsSUFBSSw4Q0FBOEMsQ0FBQTtRQUM3RCxXQUFXO1lBQ1QsdUhBQXVILENBQUE7UUFDekgsV0FBVztZQUNULG1MQUFtTCxDQUFBO1FBQ3JMLFdBQVc7WUFDVCxpR0FBaUcsQ0FBQTtRQUNuRyxXQUFXLElBQUksV0FBVyxDQUFBO1FBQzFCLFdBQVcsSUFBSSxVQUFVLENBQUE7UUFDekIsV0FBVyxJQUFJLDZCQUE2QixDQUFBO1FBQzVDLFdBQVcsSUFBSSxVQUFVLENBQUE7UUFDekIsV0FBVyxJQUFJLFdBQVcsQ0FBQTtRQUMxQixXQUFXO1lBQ1QsbUZBQW1GLENBQUE7UUFFckYsS0FBSyxNQUFNLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEtBQUssQ0FBQyxjQUFjLEVBQUU7WUFDckQsV0FBVyxJQUFJLFFBQVE7aUJBQ3BCLEdBQUcsQ0FDRixDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQ3ZCLGFBQ0UsQ0FBQyxHQUFHLENBQ04sWUFBWSxJQUFJLFlBQVksSUFBSSxZQUFZLE9BQU8sWUFBWSxDQUNsRTtpQkFDQSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7U0FDWjtRQUVELFdBQVcsSUFBSSxVQUFVLENBQUE7UUFDekIsV0FBVztZQUNULDJIQUEySCxDQUFBO1FBQzdILFdBQVcsSUFBSSxXQUFXLENBQUE7UUFDMUIsV0FBVyxJQUFJLFdBQVcsQ0FBQTtRQUMxQixXQUFXLElBQUksU0FBUyxDQUFBO1FBQ3hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDeEIsSUFBQSxrQkFBYSxFQUFDLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQTtJQUMzQyxDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFBIn0=