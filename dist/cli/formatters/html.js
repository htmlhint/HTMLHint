"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs_1 = require("fs");
const htmlFormatter = function (formatter) {
    formatter.on('end', (event) => {
        let fileContent = '<!DOCTYPE html><html lang="en">';
        fileContent += '\n<head>';
        fileContent += '\n<meta charset="UTF-8">';
        fileContent +=
            '\n<meta name="viewport" content="width=device-width, initial-scale=1">';
        fileContent += '\n<title>HTML Hint Violation Report</title>';
        fileContent += '\n<meta name="generator" content="HTMLHint">';
        fileContent += '\n</head>';
        fileContent += '\n<body style="font-family: Arial, helvetica, sans-serif;">';
        fileContent += '\n<h1>Violation Report</h1>';
        fileContent += '\n<main>';
        fileContent += '\n<table style="border:1px solid #ccc;margin-bottom:20px;">';
        fileContent +=
            '\n<tr><th>Number#</th><th>File Name</th><th>Line Number</th><th>Message</th></tr>';
        for (const { file, messages } of event.arrAllMessages) {
            fileContent += messages
                .map(({ line, message }, i) => `\n<tr><td>${i + 1}</td><td>${file}</td><td>${line}</td><td>${message}</td></tr>`)
                .join('');
        }
        fileContent += '</table>';
        fileContent +=
            '\n<footer><small style="opacity:0.5">Generated by <a href="https://htmlhint.com" target="_blank" rel="noopener">HTMLHint</a></small></footer>';
        fileContent += '\n</main>';
        fileContent += '\n</body>';
        fileContent += '</html>';
        console.log(fileContent);
        (0, fs_1.writeFileSync)('report.html', fileContent);
    });
};
module.exports = htmlFormatter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jbGkvZm9ybWF0dGVycy9odG1sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMkJBQWtDO0FBR2xDLE1BQU0sYUFBYSxHQUFzQixVQUFVLFNBQVM7SUFDMUQsU0FBUyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUM1QixJQUFJLFdBQVcsR0FBRyxpQ0FBaUMsQ0FBQTtRQUNuRCxXQUFXLElBQUksVUFBVSxDQUFBO1FBQ3pCLFdBQVcsSUFBSSwwQkFBMEIsQ0FBQTtRQUN6QyxXQUFXO1lBQ1Qsd0VBQXdFLENBQUE7UUFDMUUsV0FBVyxJQUFJLDZDQUE2QyxDQUFBO1FBQzVELFdBQVcsSUFBSSw4Q0FBOEMsQ0FBQTtRQUM3RCxXQUFXLElBQUksV0FBVyxDQUFBO1FBQzFCLFdBQVcsSUFBSSw2REFBNkQsQ0FBQTtRQUM1RSxXQUFXLElBQUksNkJBQTZCLENBQUE7UUFDNUMsV0FBVyxJQUFJLFVBQVUsQ0FBQTtRQUN6QixXQUFXLElBQUksNkRBQTZELENBQUE7UUFDNUUsV0FBVztZQUNULG1GQUFtRixDQUFBO1FBRXJGLEtBQUssTUFBTSxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxLQUFLLENBQUMsY0FBYyxFQUFFO1lBQ3JELFdBQVcsSUFBSSxRQUFRO2lCQUNwQixHQUFHLENBQ0YsQ0FBQyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUN2QixhQUNFLENBQUMsR0FBRyxDQUNOLFlBQVksSUFBSSxZQUFZLElBQUksWUFBWSxPQUFPLFlBQVksQ0FDbEU7aUJBQ0EsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1NBQ1o7UUFFRCxXQUFXLElBQUksVUFBVSxDQUFBO1FBQ3pCLFdBQVc7WUFDVCwrSUFBK0ksQ0FBQTtRQUNqSixXQUFXLElBQUksV0FBVyxDQUFBO1FBQzFCLFdBQVcsSUFBSSxXQUFXLENBQUE7UUFDMUIsV0FBVyxJQUFJLFNBQVMsQ0FBQTtRQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQ3hCLElBQUEsa0JBQWEsRUFBQyxhQUFhLEVBQUUsV0FBVyxDQUFDLENBQUE7SUFDM0MsQ0FBQyxDQUFDLENBQUE7QUFDSixDQUFDLENBQUE7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLGFBQWEsQ0FBQSJ9